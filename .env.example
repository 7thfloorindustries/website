# Email Configuration (Resend)
# Sign up at https://resend.com and get your API key
# Free tier: 100 emails/day, 3000 emails/month

RESEND_API_KEY=re_xxxxxxxxxxxx

# Optional: Custom "from" address (requires verified domain on Resend)
# Default: onboarding@resend.dev
RESEND_FROM_EMAIL=noreply@7thfloor.digital

# =============================================================================
# Redis Rate Limiting (Upstash)
# =============================================================================
# Sign up at https://upstash.com and create a Redis database
# Free tier: 10,000 requests/day
# These are optional - falls back to in-memory rate limiting if not set

UPSTASH_REDIS_REST_URL=https://your-database.upstash.io
UPSTASH_REDIS_REST_TOKEN=AXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# CSRF Protection
# =============================================================================
# Generate a random 32+ character string for CSRF token signing
# Example: openssl rand -hex 32

CSRF_SECRET=your-random-32-character-secret-here

# =============================================================================
# Cloudflare Turnstile (CAPTCHA Alternative)
# =============================================================================
# Sign up at https://dash.cloudflare.com and create a Turnstile widget
# Free tier: Unlimited
# These are optional - Turnstile is skipped if not configured

# Site key (safe to expose to client)
NEXT_PUBLIC_TURNSTILE_SITE_KEY=0x4AAAxxxxxxxxxxxxxxxx

# Secret key (server-side only - never expose!)
TURNSTILE_SECRET_KEY=0x4AAAxxxxxxxxxxxxxxxx

# =============================================================================
# Google OAuth (Campaign Dashboard)
# =============================================================================
# JSON stringified credentials from Google Cloud Console
# Used for Google Sheets API access in campaign dashboards

GOOGLE_OAUTH_CREDENTIALS={"installed":{"client_id":"xxx","client_secret":"xxx"}}
GOOGLE_OAUTH_TOKENS={"access_token":"xxx","refresh_token":"xxx"}

# =============================================================================
# Brokedown Dashboard Auth + Scrape
# =============================================================================
# DASHBOARD_PASSWORD is required for /api/dashboard-auth and Brokedown dashboard access.
# BROKE_SESSION_SECRET is optional; if omitted, DASHBOARD_PASSWORD is used to sign session cookies.
# BROKE_AUTH_ENFORCED defaults to true in production and false in development.
# SCRAPE_CONCURRENCY controls parallel scrape worker count.
# SCRAPE_ALERT_WEBHOOK_URL is optional and receives alert payloads on scrape degradation.

DASHBOARD_PASSWORD=replace-with-strong-dashboard-password
BROKE_SESSION_SECRET=replace-with-unique-random-secret
BROKE_AUTH_ENFORCED=true
CRON_SECRET=replace-with-random-cron-secret
SCRAPE_CONCURRENCY=6
SCRAPE_ALERT_WEBHOOK_URL=

# =============================================================================
# Influencer Dashboard Auth
# =============================================================================
# Identity session cookies include user/org/role claims.
# A bootstrap user is auto-provisioned into Neon on startup.
# INFLUENCER_BOOTSTRAP_PASSWORD falls back to INFLUENCER_PASSWORD for compatibility.
# INFLUENCER_BOOTSTRAP_ORG_ID is optional; if omitted, the most recent campaign org is used.
# Valid roles: viewer, analyst, admin.

INFLUENCER_PASSWORD=replace-with-strong-password
INFLUENCER_SESSION_SECRET=replace-with-unique-random-secret
INFLUENCER_BOOTSTRAP_EMAIL=admin@7thfloor.local
INFLUENCER_BOOTSTRAP_PASSWORD=replace-with-strong-password
INFLUENCER_BOOTSTRAP_NAME=Influencer Admin
INFLUENCER_BOOTSTRAP_ROLE=admin
INFLUENCER_BOOTSTRAP_ORG_ID=

# =============================================================================
# CreatorCore Sync + Pending Hydration
# =============================================================================
# /api/creatorcore/sync runs hourly (campaign + post cursor sync + pending hydration).
# /api/creatorcore/pending-hydrate runs every 15 minutes to refresh pending campaigns
# and run creator discovery sweeps for missed creator additions.
# Tune these values based on API throughput and expected campaign volume.
# CREATORCORE_AGENCY_SOURCES_JSON is optional; if unset, legacy single-source mode is used.

CREATORCORE_AGENCY_SOURCES_JSON=[{"key":"strega","name":"Strega","baseUrl":"https://strega.creatorcore.co/api/1.1/obj"}]
CREATORCORE_SYNC_CAMPAIGN_PAGES=10
CREATORCORE_SYNC_POST_PAGES=20
CREATORCORE_SYNC_CAMPAIGN_LOOKBACK_ROWS=500
CREATORCORE_SYNC_POST_LOOKBACK_ROWS=1000
CREATORCORE_PENDING_RECHECK_LIMIT=160
CREATORCORE_PENDING_RECHECK_MIN_AGE_MINUTES=10
CREATORCORE_PENDING_RECHECK_POSTS_PER_CAMPAIGN=80
CREATORCORE_PENDING_RECHECK_POST_FETCH_LIMIT=1500
CREATORCORE_PENDING_RECHECK_POST_CONCURRENCY=10
CREATORCORE_CREATOR_DISCOVERY_CAMPAIGN_LIMIT=200
CREATORCORE_CREATOR_DISCOVERY_MIN_AGE_MINUTES=15
CREATORCORE_CREATOR_DISCOVERY_POSTS_PER_CAMPAIGN=80
CREATORCORE_CREATOR_DISCOVERY_POST_FETCH_LIMIT=2000
CREATORCORE_CREATOR_DISCOVERY_POST_CONCURRENCY=10

# =============================================================================
# CreatorCore Genre Search
# =============================================================================
# Optional, used by /api/creatorcore/genre for unresolved artist genre lookups.

BRAVE_SEARCH_API_KEY=your-brave-search-api-key
